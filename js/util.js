Ipc={f:{},fin(t,e){this.f[t](e,t),delete this.f[t]},dl(t,e,n,s){"string"==typeof t?console.log("dl:"+JSON.stringify([t,e,n])):$M.openURL(URL.createObjectURL(t),0,n+e),this.f[e]=s},zip(t,e,n){let s=-1;for(;++s<10;)if(!this.f[s]){this.f[s]=n;break}console.log(`${e?"zp":"uz"}:${s}${t}`)},close(t=1){return this.beforeClose?.(),t||this.closeMsg?UI.confirm(this.closeMsg||"确认要退出？",1).then(t=>{t.i||console.log("close")}):console.log("close"),0}};{let e=Array.prototype;e.for=function(t){for(let e=0,n=this.length;e<n;e++)t(this[e],e)},e.forv=function(t){for(let e=this.length;e--;)t(this[e])},e.bIns=function(t){let e=0,n=this.length;for(;e<n;){let s=e+n>>1;if(t===this[s])return;t>this[s]?e=s+1:n=s}this.splice(e,0,t)},e.at=function(t){return this[this.length+t]};let n=HTMLElement.prototype;n.ap=function(...t){return t.for(t=>this.append(t)),t[0]},n._c=function(...t){return t.for(t=>this.append(t)),this},n.tx=function(...e){let n="";for(t of e)n+=i18n(t);return this.innerText=n,this},n.hC=function(t){return this.classList.contains(t)},n.aC=function(t){this.classList.add(t)},n.rC=function(t){this.classList.remove(t)},n.pS=function(t=1){let e=this;for(;t--;)e=e.previousSibling;return e},n.nS=function(t=1){let e=this;for(;t--;)e=e.nextSibling;return e},n._h=function(){this.style.display="none"},n._s=function(){this.style.display=""},Object.defineProperties(n,{ch:{get(){return this.children}},pN:{get(){return this.parentNode}}})}const doc=document,$=t=>doc.getElementById(t),$c=(t,e=doc)=>[...e.getElementsByClassName(t)],$t=(t,e=doc)=>[...e.getElementsByTagName(t)],El=(t,e,n)=>{let s=doc.createElement(t);return e&&(s.className=e),n&&Object.assign(s,n),s},css=(t,e,n=-1,s)=>{if(void 0!==t.length)for(let o=t.length;o--;)Object.assign(t[o].style,o===n?s:e);else Object.assign(t.style,e)},ac=(t,e="")=>css(t,{color:e,pointerEvents:""}),dac=(t,e="#aaa")=>css(t,{color:e,pointerEvents:"none"});doc.fonts.ready.then(()=>{return css((t="wrap",doc.getElementById(t)),{opacity:1,pointerEvents:"auto"});var t});const $M={b2u6:t=>t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:43===t?62:47===t?63:0,b2u8(t,e){let n=t.replace(/[^A-Za-z0-9\+\/]/g,""),s=n.length,o=3*s+1>>>2,r=new Uint8Array(o);for(let t,e,i=0,l=0,a=0;a<s;a++)if(e=3&a,i|=this.b2u6(n.charCodeAt(a))<<18-6*e,3===e||s-a==1){for(t=0;t<3&&l<o;t++,l++)r[l]=i>>>(16>>>t&24)&255;i=0}return r},b2b(t){return new Blob([this.b2u8(t)])},u2b(t){return new Blob([this.b2u8(t.split(",")[1])],{type:t.split(";")[0].slice(5)})},read:(t,e="DataURL")=>new Promise((n,s)=>{let o=new FileReader;o["readAs"+e](t),o.onload=()=>n(o.result),o.onerror=s}),openURL(t,e,n){let s=doc.body.ap(El("a"));s.href=t,s._h(),e&&(s.target="_blank"),n&&(s.download=n),s.click(),s.remove()},xhr:(t,e,n,s=null,o=1e4)=>new Promise((r,i)=>{let l=new XMLHttpRequest;n&&(l.responseType=n),l.open(t,e),"POST"===t&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.timeout=o,l.onload=function(){this.status>399?i(this):r(this)},l.onerror=l.ontimeout=()=>i(l),l.send(s)})};Math.mM=function(t,e,n){return this.max(e,this.min(n,t))},Date.pad=t=>(t<10?"0":"")+t,Date.cD=t=>`${t.getFullYear()}-${Date.pad(t.getMonth()+1)}-${Date.pad(t.getDate())} ${Date.pad(t.getHours())}:${Date.pad(t.getMinutes())}`,Date.cT=t=>`${Date.pad(t/3600<<0)}:${Date.pad((t/60<<0)%60)}:${Date.pad(t%60)}`;const $S={get(t,e=!0){let n=(e?localStorage:sessionStorage).getItem(t);return"0"===n||"1"===n?n<<=0:"undefined"===n?n=void 0:"null"===n&&(n=null),n},set(t,e,n=!0){"boolean"==typeof e&&(e<<=0),(n?localStorage:sessionStorage).setItem(t,e)},rm(t,e=!0){(e?localStorage:sessionStorage).removeItem(t)},sget(t){return this.get(t,0)},sset(t,e){return this.set(t,e,0)},srm(t){return this.rm(t,0)}};