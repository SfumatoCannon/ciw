const $C={key:{J:16,L:37,U:38,R:39,D:40,a:65,d:68,p:80,r:82,s:83,w:87,x:88,z:90,f2:113},LRshift:1,keyDown:[],keyUp:[],keyOn:[],keyClr(e){this.keyUp[e]&&this.keyOn[e]&&(this.keyOn[e]=!1),this.keyDown[e]=!1,this.keyUp[e]=!1},keyPause(e){this.keyOn[e]&&(this.keyOn[e]=!1,this.keyUp[e]=!0),this.keyDown[e]=!1},keyReset(e){this.keyOn[e]=!1,this.keyUp[e]=!1,this.keyDown[e]=!1},keyClrAll(){for(let e in this.key)this.keyClr(this.key[e])},keyPauseAll(){for(let e in this.key)this.keyPause(this.key[e])},keyResetAll(){for(let e in this.key)this.keyReset(this.key[e])},keyChk(e){return this.keyOn[this.key[e]]||this.keyDown[this.key[e]]},keyPrs(e){return this.keyDown[this.key[e]]},keyRls(e){return this.keyUp[this.key[e]]}};doc.onkeydown=e=>{if(9===e.keyCode)return e.preventDefault();let t=doc.activeElement.tagName;if(e.repeat||"TEXTAREA"===t||"INPUT"===t)return;const n=e.keyCode;16===n&&e.location!==$C.LRshift&&($C.LRshift=e.location,$C.keyDown[16]=!0),$C.keyOn[n]||($C.keyDown[n]=!0,$C.keyOn[n]=!0)},doc.onkeyup=e=>{$C.keyUp[e.keyCode]=!0,$C.keyOn[e.keyCode]&&($C.keyOn[e.keyCode]=!1)},doc.oncontextmenu=e=>e.preventDefault(),Math.PI2=2*Math.PI,Math.DR=Math.PI/180,Math.rdA=9301,Math.rdB=49297,Math.rdC=233280,Math.randomr=function(e,t){return this.random()*(t-e)+e},Math.srandom=function(e,t){return Core.$R.rdSeed=(Core.$R.rdSeed*this.rdA+this.rdB)%this.rdC,void 0===t?Core.$R.rdSeed/this.rdC*e:Core.$R.rdSeed/this.rdC*(t-e)+e},Math.comp=(e,t,n)=>0===n?e===t:1===n?e>t:2===n?e<t:3===n?e>=t:4===n?e<=t:5===n?e!==t:void 0,Object.freeze(Math);