const XHR=e=>new Promise(s=>{let t=new XMLHttpRequest;t.responseType="json",t.open("GET","https://api.vicklleall.com/1.1/classes/"+e),t.setRequestHeader("X-LC-Id","pz48k2JqRsnuVf2z0eREPWBx-MdYXbMMI"),t.setRequestHeader("X-LC-Key","cHYN2jvuXSpDtcT8FLl7IIBs"),t.onload=()=>{t.status<400&&s(t.response)},t.send()});XHR("CIW?order=-createdAt&limit=1").then(e=>{e=e.results[0];const s=$t("b",$("data"));s[0].innerText=e.users,s[1].innerText=e.games,s[2].innerText=e.levels}),XHR("Data/6264ec311cd0cc5a3245b72f").then(e=>{const s=e.data,t=Date.now()/1e3,a=s.end;if(t<a){const e=s.start,n=$("version").lastChild,l=(e-t)/3600;l<=0?n.innerHTML=`${e.getMonth()}/${e.getDate()} ~ ${a.getMonth()}/${a.getDate()} 限时开启`:l<24?n.innerHTML=`距离公测还有 <b>${Math.ceil(l)}</b> 小时`:l<720&&(n.innerHTML=`距离公测还有 <b>${Math.ceil(l/24)}</b> 天`)}const n=e=>{let s=doc.createElement("div");return s.className="box dialog",s.innerHTML="<div class='close'></div>"+e,s.firstChild.onclick=()=>{$("dialog").style.display="",s.remove()},s},l=$t("a",$("download")),o=n("<h3 style='margin-bottom:0'><svg style='width:1.5em'><use href='#-x'></use></svg>下载</h3>");s.download.forEach((e,s)=>{e.file&&(l[s].innerHTML="<svg><use href='#-x'></use></svg>"+e.plat,l[s].className="",e.file.forEach(e=>o.append(((e,s)=>{let t=doc.createElement("div");return t.className="dl i"+s,t.style.backgroundImage=`url(//testingcf.jsdelivr.net/gh/vicklleall/ciw@goaci/web/img/${e.ico}.ico.png)`,t.innerHTML=`<p>${e.name}</p><span class='label'>${e.sys}</span><span>文件大小：${e.size}</span><span>更新日期：${e.date}</span><div class='dlbtn'></div>`,e.link.forEach(e=>{let s=doc.createElement("a");s.innerHTML="<svg><use href='#-x'></use></svg>"+e[0],e[1]&&(s.href=e[1],s.target="_blank"),s.style.color="#"+e[2],t.lastChild.append(s)}),t})(e,s))),l[s].onclick=()=>{$("dialog").append(o),o.parentNode.style.display="block",$c("dl",o).forEach(e=>e.style.display="none"),$c("i"+s,o).forEach(e=>e.style.display="")})}),s.release.forEach(e=>{let s=doc.createElement("p");s.innerHTML=`<span class='ver'>${e[0]}</span><span>${e[1]}</span>${e[2]}`,$("tag").append(s)}),$("sp").style.cursor="pointer",$("sp").onclick=()=>{$("dialog").append(n(`<div id='spd'><div style='height:170px;background:url(//testingcf.jsdelivr.net/gh/vicklleall/ciw@goaci/web/img/sp.webp) no-repeat center/contain'></div><p style='font-size:18px'>感谢支持！</p><p style='color:#456'>请使用微信扫码，留言备注名称</p><p>感谢名单</p><p style='font-size:13px;word-break:keep-all'>${s.sponsor}</p><p style='color:#456'>累计${s.total}元</p></div>`)),$("dialog").style.display="block"}});